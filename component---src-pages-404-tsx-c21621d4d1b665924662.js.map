{"version":3,"sources":["webpack://sky-digibox-simulator/./src/data/ErrorCodes.tsx","webpack://sky-digibox-simulator/./src/components/ErrorMessage.tsx","webpack://sky-digibox-simulator/./src/components/FullScreenError.tsx","webpack://sky-digibox-simulator/./src/pages/404.tsx"],"names":["ErrorCodes","ErrorText","NO_CARD_INSERTED","NO_SATELLITE_SIGNAL","NO_SATELLITE_SIGNAL_2","useStyles","makeStyles","messageBox","width","overflow","maxHeight","messageBoxHeader","background","Colors","color","textTransform","lineHeight","fontSize","textAlign","position","messageBoxErrorCode","right","messageBoxContent","display","flexDirection","justifyContent","padding","paddingBottom","fontFamily","letterSpacing","minHeight","messageBoxFooter","title","errorCode","children","backUpPrompt","backUpPromptTextAction","onBackUp","classes","setControlsState","useSetRecoilState","controlsState","controlsShownStateSetter","useEffect","backUpEventListener","e","stopImmediatePropagation","detail","control","document","addEventListener","removeEventListener","role","className","clsx","String","padStart","ControlText","root","top","bottom","left","alignItems","props","InnerLayout","navigate"],"mappings":"sLAOKA,E,kDAAAA,O,uCAAAA,I,qCAAAA,I,qCAAAA,I,yCAAAA,I,iCAAAA,I,mDAAAA,I,6CAAAA,I,8CAAAA,I,mDAAAA,M,KAeE,IAAMC,IAAS,MACnBD,EAAWE,kBAAmB,gFADX,EAEnBF,EAAWG,qBACV,yFAEE,mCAFF,sGAIE,mCAJF,qDAHkB,EAWnBH,EAAWI,uBACV,yFAEE,mCAFF,sGAIE,mCAJF,qDAZkB,GAsBtB,I,wCCjCMC,GAAYC,OAAW,CAC3BC,WAAY,CACVC,MAAO,MACPC,SAAU,SACVC,UAAW,OAEbC,iBAAkB,CAChBC,WAAYC,eACZC,MAAOD,SACPE,cAAe,YACfC,WAAY,OACZC,SAAU,GACVC,UAAW,SACXC,SAAU,YAEZC,oBAAqB,CACnBD,SAAU,WACVE,MAAO,GAETC,kBAAmB,CACjBC,QAAS,OACTC,cAAe,SACfC,eAAgB,gBAChBC,QAAS,EACTC,cAAe,EACfC,WAAY,WACZhB,WAAYC,cACZC,MAAOD,aACPI,SAAU,GACVC,UAAW,SACXW,cAAe,GACfb,WAAY,OACZc,UAAW,KAEbC,iBAAkB,CAChBjB,MAAOD,eACPc,cAAe,KAiGnB,EApDkD,SAAC,GAO7C,QANJK,aAMI,MANI,uBAMJ,MALJC,iBAKI,MALQjC,sBAKR,MAJJkC,gBAII,MAJOjC,EAAUD,uBAIjB,MAHJmC,oBAGI,aAFJC,8BAEI,MAFqB,SAErB,MADJC,gBACI,MADO,aACP,EACEC,EAAUjC,IACVkC,GAAmBC,QAAkBC,KAyB3C,OAvBIN,GACFI,GAAiBG,OAAyB,UAAU,KAGtDC,gBAAU,WACR,GAAIR,EAAc,CAChB,SAASS,EAAoBC,GAC3BA,EAAEC,2BAEuB,WAArBD,EAAEE,OAAOC,SACXX,IAMJ,OAFAY,SAASC,iBAAiB,oBAAqBN,GAExC,WACLK,SAASE,oBAAoB,oBAAqBP,GAClDL,GAAiBG,OAAyB,UAAU,SAMxD,mCAASU,KAAK,QAAQC,UAAWf,EAAQ/B,YACvC,kCAAQ8C,WAAWC,OAAK,aAAchB,EAAQ3B,mBAC3CqB,EACD,gCAAMqB,UAAWf,EAAQlB,qBAAsBmC,OAAOtB,GAAWuB,SAAS,EAAG,OAE/E,mCAASH,UAAWf,EAAQhB,mBACzBY,EACAC,GACC,kCAAQkB,UAAWf,EAAQP,kBAA3B,SACQ,wBAAC0B,EAAA,EAAD,gBADR,OAC+CrB,MClInD/B,GAAYC,OAAW,CAC3BoD,KAAM,CACJ9C,WAAYC,WACZM,SAAU,WACVwC,IAAK,EACLC,OAAQ,EACRvC,MAAO,EACPwC,KAAM,EACNtC,QAAS,OACTuC,WAAY,SACZrC,eAAgB,UAElBlB,WAAY,CACVC,MAAO,MACPC,SAAU,SACVC,UAAW,OAEbC,iBAAkB,CAChBC,WAAYC,eACZC,MAAOD,SACPE,cAAe,YACfC,WAAY,OACZC,SAAU,GACVC,UAAW,SACXC,SAAU,YAEZC,oBAAqB,CACnBD,SAAU,WACVE,MAAO,GAETC,kBAAmB,CACjBI,QAAS,EACTC,cAAe,EACfC,WAAY,WACZhB,WAAYC,cACZC,MAAOD,aACPI,SAAU,GACVC,UAAW,SACXW,cAAe,GACfb,WAAY,UAiBhB,EAVqD,SAAC,GAAiB,IAAZ+C,EAAY,oBAC/DzB,EAAUjC,IAEhB,OACE,+BAAKgD,UAAWf,EAAQoB,MACtB,wBAAC,EAAiBK,K,oBC1CxB,EAV2B,WACzB,OACE,wBAACC,EAAA,EAAD,KACE,wBAAC,EAAD,CAAiB/B,UAAW,IAAKE,cAAY,EAACC,uBAAuB,UAAUC,SAAU,kBAAM4B,cAAS,OAAxG","file":"component---src-pages-404-tsx-c21621d4d1b665924662.js","sourcesContent":["import React from 'react'\n\n/**\n * List of known Sky error codes.\n *\n * Not complete at all.\n */\nenum ErrorCodes {\n  NO_CARD_INSERTED = 1,\n  CARD_READ_ERROR = 2,\n  CARD_CHECK_FAIL = 3,\n  UNAUTHORISED_CARD = 6,\n  /**\n   * CP01 on Sky+HD R010 and newer\n   */\n  UNPAIRED_CARD = 7,\n  ENCRYPTION_KEY_FAILURE = 8,\n  UNAUTHORISED_CARD_2 = 9,\n  NO_SATELLITE_SIGNAL = 28,\n  NO_SATELLITE_SIGNAL_2 = 29,\n}\n\nexport const ErrorText = {\n  [ErrorCodes.NO_CARD_INSERTED]: <>Insert your Sky viewing card</>,\n  [ErrorCodes.NO_SATELLITE_SIGNAL]: (\n    <>\n      No Satellite Signal is being received.\n      <br />\n      Please unplug your box from the mains, then plug it back in and wait 5 minutes before trying again.\n      <br />\n      If the fault persists, contact customer services.\n    </>\n  ),\n  [ErrorCodes.NO_SATELLITE_SIGNAL_2]: (\n    <>\n      No Satellite Signal is being received.\n      <br />\n      Please unplug your box from the mains, then plug it back in and wait 5 minutes before trying again.\n      <br />\n      If the fault persists, contact customer services.\n    </>\n  ),\n} as const\n\nexport default ErrorCodes\n","import React, { useEffect } from 'react'\nimport clsx from 'clsx'\nimport { makeStyles } from '@material-ui/core'\nimport ErrorCodes, { ErrorText } from '../data/ErrorCodes'\nimport ControlText from './ControlText'\nimport Colors from '../data/Colors'\n\nimport { useSetRecoilState } from 'recoil'\nimport { controlsState } from '../atoms'\nimport controlsShownStateSetter from '../helpers/controlsShownStateSetter'\n\nconst useStyles = makeStyles({\n  messageBox: {\n    width: '80%',\n    overflow: 'hidden',\n    maxHeight: '80%',\n  },\n  messageBoxHeader: {\n    background: Colors.yellowMain,\n    color: Colors.main,\n    textTransform: 'uppercase',\n    lineHeight: '29px',\n    fontSize: 24,\n    textAlign: 'center',\n    position: 'relative',\n  },\n  messageBoxErrorCode: {\n    position: 'absolute',\n    right: 4,\n  },\n  messageBoxContent: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    padding: 4,\n    paddingBottom: 0,\n    fontFamily: 'ZurichBT',\n    background: Colors.mainLight,\n    color: Colors.mainText,\n    fontSize: 25,\n    textAlign: 'center',\n    letterSpacing: 0.5,\n    lineHeight: '32px',\n    minHeight: 32 * 4 + 4 + 4,\n  },\n  messageBoxFooter: {\n    color: Colors.yellowText,\n    paddingBottom: 1,\n  },\n})\n\nexport interface ErrorMessageProps {\n  /**\n   * Error message title\n   *\n   * @default \"For your information\"\n   */\n  title?: string\n  /**\n   * Error message number\n   *\n   * @default 29\n   */\n  errorCode?: number | null\n  /**\n   * Error message content\n   *\n   * @default \"No Satellite Signal is being received. [...]\"\n   */\n  children?: React.ReactNode\n  /**\n   * Whether to show the Back Up prompt or not\n   *\n   * @default false\n   */\n  backUpPrompt?: boolean\n  /**\n   * Custom Back Up prompt action text.\n   *\n   * Results in: `Press BACK UP to <text here>`\n   */\n  backUpPromptTextAction?: string\n  onBackUp?: () => void\n}\n\n/**\n * Displays a Sky-themed error message.\n *\n * Defaults to a No Satellite error.\n *\n * Title is almost always \"FOR YOUR INFORMATION\" on a real box.\n */\nconst ErrorMessage: React.FC<ErrorMessageProps> = ({\n  title = 'For your information',\n  errorCode = ErrorCodes.NO_SATELLITE_SIGNAL,\n  children = ErrorText[ErrorCodes.NO_SATELLITE_SIGNAL],\n  backUpPrompt = false,\n  backUpPromptTextAction = 'return',\n  onBackUp = () => {},\n}) => {\n  const classes = useStyles()\n  const setControlsState = useSetRecoilState(controlsState)\n\n  if (backUpPrompt) {\n    setControlsState(controlsShownStateSetter('backUp', true))\n  }\n\n  useEffect(() => {\n    if (backUpPrompt) {\n      function backUpEventListener(e: SkyControlPressedEvent) {\n        e.stopImmediatePropagation()\n\n        if (e.detail.control === 'backUp') {\n          onBackUp()\n        }\n      }\n\n      document.addEventListener('skyControlPressed', backUpEventListener as EventListener)\n\n      return () => {\n        document.removeEventListener('skyControlPressed', backUpEventListener as EventListener)\n        setControlsState(controlsShownStateSetter('backUp', false))\n      }\n    }\n  })\n\n  return (\n    <section role=\"alert\" className={classes.messageBox}>\n      <header className={clsx('thick-text', classes.messageBoxHeader)}>\n        {title}\n        <span className={classes.messageBoxErrorCode}>{String(errorCode).padStart(2, '0')}</span>\n      </header>\n      <article className={classes.messageBoxContent}>\n        {children}\n        {backUpPrompt && (\n          <footer className={classes.messageBoxFooter}>\n            Press <ControlText>BACK UP</ControlText> to {backUpPromptTextAction}\n          </footer>\n        )}\n      </article>\n    </section>\n  )\n}\n\nexport default ErrorMessage\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core'\nimport Colors from '../data/Colors'\n\nimport ErrorMessage, { ErrorMessageProps } from './ErrorMessage'\n\nconst useStyles = makeStyles({\n  root: {\n    background: Colors.accent,\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  messageBox: {\n    width: '80%',\n    overflow: 'hidden',\n    maxHeight: '80%',\n  },\n  messageBoxHeader: {\n    background: Colors.yellowMain,\n    color: Colors.main,\n    textTransform: 'uppercase',\n    lineHeight: '29px',\n    fontSize: 24,\n    textAlign: 'center',\n    position: 'relative',\n  },\n  messageBoxErrorCode: {\n    position: 'absolute',\n    right: 4,\n  },\n  messageBoxContent: {\n    padding: 4,\n    paddingBottom: 0,\n    fontFamily: 'ZurichBT',\n    background: Colors.mainLight,\n    color: Colors.mainText,\n    fontSize: 25,\n    textAlign: 'center',\n    letterSpacing: 0.5,\n    lineHeight: '32px',\n  },\n})\n\n/**\n * Displays a full-screen Sky error message using the props provided.\n */\nconst FullScreenError: React.FC<ErrorMessageProps> = ({ ...props }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <ErrorMessage {...props} />\n    </div>\n  )\n}\n\nexport default FullScreenError\n","import React from 'react'\nimport FullScreenError from '../components/FullScreenError'\nimport InnerLayout from '../layouts/InnerLayout'\nimport { navigate } from 'gatsby'\n\nconst Error404: React.FC = () => {\n  return (\n    <InnerLayout>\n      <FullScreenError errorCode={404} backUpPrompt backUpPromptTextAction=\"go home\" onBackUp={() => navigate('/')}>\n        This page doesn't exist on the Sky Web EPG. Maybe this page was removed.\n      </FullScreenError>\n    </InnerLayout>\n  )\n}\n\nexport default Error404\n"],"sourceRoot":""}