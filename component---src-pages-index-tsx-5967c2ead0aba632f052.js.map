{"version":3,"sources":["webpack://sky-digibox-simulator/./src/components/SkyLogo.tsx","webpack://sky-digibox-simulator/./src/components/epg/Header/Header.tsx","webpack://sky-digibox-simulator/./src/components/epg/Menu.tsx","webpack://sky-digibox-simulator/./src/components/epg/pages/MainMenu.tsx","webpack://sky-digibox-simulator/./src/components/SEO.tsx","webpack://sky-digibox-simulator/./src/layouts/InnerLayout.tsx","webpack://sky-digibox-simulator/./src/pages/index.tsx"],"names":["useStyles","makeStyles","root","width","display","flexDirection","alignItems","underText","marginTop","fontFamily","fontSize","color","letterSpacing","className","text","classes","clsx","S","src","alt","height","placeholder","logo","margin","marginLeft","logoText","padding","gap","position","content","backgroundPosition","backgroundRepeat","backgroundSize","backgroundImage","right","transformOrigin","bottom","transform","top","useItemStyles","cursor","paddingLeft","background","Colors","textTransform","counterIncrement","outline","alignSelf","textAlign","lineHeight","marginRight","MenuItem","customNumber","onClick","data-number","onKeyDown","e","key","target","click","tabIndex","onBack","listItems","listRef","useRef","useState","page","setPage","useEffect","current","firstLi","firstElementChild","focus","goToFirstPage","stopImmediatePropagation","detail","control","window","__setControlVisibility","document","addEventListener","removeEventListener","lastPage","length","ITEMS_PER_PAGE","Math","floor","itemsOnPage","slice","console","log","data-more","data-less","altKey","ctrlKey","metaKey","shiftKey","li","list","currentTarget","prev","previousElementSibling","elToFocus","lastElementChild","next","nextElementSibling","ref","map","item","p","MainMenuItems","alert","description","meta","title","site","useStaticQuery","metaDescription","siteMetadata","Title","Meta","name","m","i","children"],"mappings":"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","file":"component---src-pages-index-tsx-5967c2ead0aba632f052.js","sourcesContent":["import { makeStyles } from '@material-ui/core'\nimport clsx from 'clsx'\nimport { StaticImage } from 'gatsby-plugin-image'\nimport React from 'react'\n\ninterface Props {\n  className?: string\n  text?: string\n}\n\nconst useStyles = makeStyles({\n  root: {\n    width: 'max-content',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  underText: {\n    marginTop: 6,\n    fontFamily: 'SkyLogo',\n    fontSize: 32,\n    color: 'white',\n    letterSpacing: 0.5,\n  },\n})\n\nconst SkyLogo: React.FC<Props> = ({ className, text }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={clsx(classes.root, className)}>\n      <StaticImage src=\"../assets/images/sky-logo-transparent.png\" alt=\"Sky\" height={50} placeholder=\"blurred\" />\n      {text && <span className={classes.underText}>{text}</span>}\n    </div>\n  )\n}\n\nexport default SkyLogo\n","import { makeStyles } from '@material-ui/core'\nimport React from 'react'\nimport SkyLogo from '../../SkyLogo'\n\ninterface Props {\n  logoText?: string\n}\n\nconst useStyles = makeStyles({\n  root: {},\n  logo: {\n    margin: 24,\n    marginLeft: 32,\n  },\n})\n\n/**\n * Main EPG Header\n */\nconst Header: React.FC<Props> = ({ logoText }) => {\n  const classes = useStyles()\n\n  return (\n    <header className={classes.root}>\n      <SkyLogo text={logoText} className={classes.logo} />\n    </header>\n  )\n}\n\nexport default Header\n","import React, { useEffect, useRef, useState } from 'react'\nimport clsx from 'clsx'\nimport { makeStyles } from '@material-ui/core'\nimport Colors from '../../data/colors'\n\nimport MenuMoreArrowSvg from '../../assets/icons/list-arrow.svg'\n\n/**\n * Excludes the \"More...\" item\n */\nconst ITEMS_PER_PAGE = 9\n\nconst useStyles = makeStyles({\n  root: {\n    width: 560,\n    margin: 'auto',\n    padding: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 4,\n    position: 'relative',\n\n    '&[data-more=\"true\"]::after, &[data-less=\"true\"]::before': {\n      content: '\"\"',\n      display: 'block',\n      position: 'absolute',\n      height: 24,\n      width: 32,\n      backgroundPosition: 'center',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'contain',\n      backgroundImage: `url(${MenuMoreArrowSvg})`,\n      right: 0,\n      transformOrigin: 'center',\n    },\n\n    '&[data-more=\"true\"]::after': {\n      bottom: 0,\n      transform: 'translateY(100%)',\n    },\n\n    '&[data-less=\"true\"]::before': {\n      top: 0,\n      transform: 'translateY(-100%) rotate(0.5turn)',\n    },\n  },\n})\n\nexport interface ListItem {\n  text: string\n  onClick?: React.MouseEventHandler<HTMLLIElement>\n}\n\ninterface ListProps {\n  listItems: ListItem[]\n  onBack?: (e: SkyControlPressedEvent) => void\n}\n\nconst Menu: React.FC<ListProps> = ({ onBack, listItems }) => {\n  const classes = useStyles()\n  const listRef = useRef<HTMLOListElement>(null)\n\n  function HandleMenuNav(e: React.KeyboardEvent<HTMLOListElement>) {\n    if (e.altKey || e.ctrlKey || e.metaKey || e.shiftKey) return\n\n    const li = e.target as HTMLLIElement\n    const list = e.currentTarget as HTMLOListElement\n\n    if (e.key === 'ArrowUp') {\n      const prev = li.previousElementSibling as HTMLLIElement | null\n      let elToFocus = prev\n\n      if (!prev) {\n        // Top of list\n        // Wrap to bottom\n        elToFocus = list.lastElementChild as HTMLLIElement\n      }\n\n      elToFocus.focus()\n    } else if (e.key === 'ArrowDown') {\n      const next = li.nextElementSibling as HTMLLIElement | null\n      let elToFocus = next\n\n      if (!next) {\n        // Bottom of list\n        // Wrap to top\n        elToFocus = list.firstElementChild as HTMLLIElement\n      }\n\n      elToFocus.focus()\n    }\n  }\n\n  /**\n   * 0-based\n   */\n  const [page, setPage] = useState(0)\n\n  useEffect(() => {\n    if (listRef.current) {\n      const firstLi = listRef.current.firstElementChild as HTMLLIElement\n      firstLi && firstLi.focus()\n    }\n\n    function goToFirstPage(e: SkyControlPressedEvent) {\n      e.stopImmediatePropagation()\n\n      if (page > 0 && e.detail.control === 'backUp') {\n        setPage(0)\n      } else if (page === 0 && onBack) {\n        onBack(e)\n      }\n    }\n\n    if (window.__setControlVisibility) window.__setControlVisibility('backUp', !!(onBack || page > 0))\n\n    document.addEventListener('skyControlPressed', goToFirstPage as EventListener)\n\n    return () => {\n      document.removeEventListener('skyControlPressed', goToFirstPage as EventListener)\n    }\n  }, [page, listRef])\n\n  /**\n   * 0-based\n   */\n  const lastPage = listItems.length > ITEMS_PER_PAGE + 1 ? Math.floor(listItems.length / ITEMS_PER_PAGE) : 0\n\n  const itemsOnPage = listItems.slice(page * ITEMS_PER_PAGE, (page + 1) * ITEMS_PER_PAGE)\n\n  console.log(listItems)\n  console.log(itemsOnPage)\n\n  console.log(page, lastPage)\n\n  return (\n    <ol data-more={page < lastPage} data-less={page > 0} onKeyDown={HandleMenuNav} ref={listRef} className={clsx('thick-text', classes.root)}>\n      {itemsOnPage.map(item => (\n        <MenuItem key={item.text} {...item} />\n      ))}\n      {lastPage !== page && <MenuItem text=\"More...\" onClick={() => setPage(p => p + 1)} />}\n    </ol>\n  )\n}\n\nconst useItemStyles = makeStyles({\n  root: {\n    cursor: 'pointer',\n    paddingLeft: 6,\n    height: 32,\n    fontSize: 26,\n    display: 'flex',\n    alignItems: 'center',\n    background: Colors.main,\n    color: Colors.mainText,\n    textTransform: 'uppercase',\n    counterIncrement: 'menu',\n\n    outline: 'none',\n\n    '&::before': {\n      width: 80,\n      alignSelf: 'stretch',\n      textAlign: 'center',\n      lineHeight: '32px',\n      marginRight: 12,\n\n      background: Colors.accent,\n      color: Colors.accentText,\n\n      content: 'counter(menu)',\n      display: 'inline-block',\n    },\n\n    '&:hover, &:focus-visible': {\n      background: Colors.mainHover,\n      color: Colors.mainTextHover,\n\n      '&::before': {\n        background: Colors.accentHover,\n        color: Colors.accentTextHover,\n      },\n    },\n\n    '&:nth-child(10)::before': {\n      content: '\"0\"',\n    },\n  },\n})\n\ntype ListItemProps = {\n  customNumber?: number\n} & ListItem\n\nconst MenuItem: React.FC<ListItemProps> = ({ customNumber, text, onClick }) => {\n  const classes = useItemStyles()\n\n  function triggerClickOnEnter(e: React.KeyboardEvent<HTMLLIElement>) {\n    if (e.key === 'Enter') {\n      const li = e.target as HTMLLIElement\n      li.click()\n    }\n  }\n\n  return (\n    <li data-number={customNumber} onKeyDown={triggerClickOnEnter} onClick={onClick} tabIndex={0} className={classes.root}>\n      {text}\n    </li>\n  )\n}\n\nexport default Menu\n","import React from 'react'\nimport Header from '../Header/Header'\nimport Menu from '../Menu'\n\nconst MainMenuItems = [\n  {\n    text: 'All Channels',\n    onClick: () => {},\n  },\n  {\n    text: 'Entertainment',\n    onClick: () => {},\n  },\n  {\n    text: 'Lifestyle & Culture',\n    onClick: () => {\n      alert('l&c')\n    },\n  },\n  {\n    text: 'Movies',\n    onClick: () => {},\n  },\n  {\n    text: 'Sports',\n    onClick: () => {},\n  },\n  {\n    text: 'News',\n    onClick: () => {},\n  },\n  {\n    text: 'Documentaries',\n    onClick: () => {},\n  },\n  {\n    text: 'Kids',\n    onClick: () => {},\n  },\n  {\n    text: 'Music',\n    onClick: () => {},\n  },\n  {\n    text: 'Radio',\n    onClick: () => {},\n  },\n  {\n    text: 'Shopping',\n    onClick: () => {},\n  },\n  {\n    text: 'Religion',\n    onClick: () => {},\n  },\n  {\n    text: 'International',\n    onClick: () => {},\n  },\n  {\n    text: 'Gaming & Dating',\n    onClick: () => {},\n  },\n  {\n    text: 'Specialist',\n    onClick: () => {},\n  },\n  {\n    text: 'Adult',\n    onClick: () => {},\n  },\n]\n\nconst MainMenu: React.FC = () => {\n  return (\n    <div>\n      <Header logoText=\"guide\" />\n      <Menu listItems={MainMenuItems} />\n    </div>\n  )\n}\n\nexport default MainMenu\n","import React from 'react'\n\nimport { Title, Meta } from 'react-head'\nimport { useStaticQuery, graphql } from 'gatsby'\n\ntype MetaEntry = {\n  name: string\n  content: string\n}\n\ninterface Props {\n  description?: string\n  meta?: MetaEntry[]\n  title: string\n}\n\nconst SEO: React.FC<Props> = ({ description, meta, title }) => {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `,\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <>\n      <Title>{title ? `${title} | ${site.siteMetadata.title}` : site.siteMetadata.title}</Title>\n      <Meta name=\"description\" content={metaDescription} />\n\n      <Meta name=\"og:title\" content={title} />\n      <Meta name=\"og:description\" content={metaDescription} />\n      <Meta name=\"og:type\" content=\"website\" />\n\n      <Meta name=\"twitter:card\" content=\"summary\" />\n      <Meta name=\"twitter:title\" content={title} />\n      <Meta name=\"twitter:description\" content={metaDescription} />\n      <Meta name=\"twitter:creator\" content=\"@davwheat\" />\n\n      {meta && meta.map((m, i) => <Meta key={`${m.name}--${i}`} name={m.name} content={m.content} />)}\n    </>\n  )\n}\n\nexport default SEO\n","import React from 'react'\nimport SEO from '../components/SEO'\n\ninterface Props {\n  title?: string\n  description?: string\n  children: React.ReactNode\n}\n\nconst InnerLayout: React.FC<Props> = ({ title, description, children }) => {\n  return (\n    <>\n      <SEO title={title} description={description} />\n      {children}\n    </>\n  )\n}\n\nexport default InnerLayout\n","import React from 'react'\nimport MainMenu from '../components/epg/pages/MainMenu'\nimport InnerLayout from '../layouts/InnerLayout'\n\nconst IndexPage: React.FC = () => {\n  return (\n    <InnerLayout>\n      <MainMenu />\n    </InnerLayout>\n  )\n}\n\nexport default IndexPage\n"],"sourceRoot":""}