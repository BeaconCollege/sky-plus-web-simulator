{"version":3,"sources":["webpack://sky-plus-epg-simulator/./src/pages/tv-license-settings.tsx"],"names":["goBack","window","__isLastPageOnSameDomain","history","back","navigate","controlPressed","e","detail","control","useSetRecoilState","controlsState","setControlsVisible","controlsShownStateSetter","useEffect","addEventListener","removeEventListener","onSelectLicenseStatus"],"mappings":"0MA+BA,UAxB0B,WAIxB,SAASA,IACHC,OAAOC,yBAA0BD,OAAOE,QAAQC,QAC/CC,cAAS,KAGhB,SAASC,EAAeC,GACG,WAArBA,EAAEC,OAAOC,SACXT,IAUJ,OApB2BU,QAAkBC,IAC7CC,EAAmBC,OAAyB,UAAU,KAatDC,gBAAU,WAGR,OAFAb,OAAOc,iBAAiB,oBAAqBT,GAEtC,kBAAML,OAAOe,oBAAoB,oBAAqBV,OAGxD,wBAAC,IAAD,CAAkBW,sBAAuBjB","file":"component---src-pages-tv-license-settings-tsx-89e349f910f1e98171b3.js","sourcesContent":["import { controlsState } from '@atoms/controlsState'\nimport TVLicenseMessage from '@components/TVLicenseMessage'\nimport controlsShownStateSetter from '@helpers/controlsShownStateSetter'\nimport { navigate } from 'gatsby'\nimport React, { useEffect } from 'react'\nimport { useSetRecoilState } from 'recoil'\n\nconst TVLicenseSettings = () => {\n  const setControlsVisible = useSetRecoilState(controlsState)\n  setControlsVisible(controlsShownStateSetter('backUp', true))\n\n  function goBack() {\n    if (window.__isLastPageOnSameDomain) window.history.back()\n    else navigate('/')\n  }\n\n  function controlPressed(e: SkyControlPressedEvent) {\n    if (e.detail.control === 'backUp') {\n      goBack()\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('skyControlPressed', controlPressed)\n\n    return () => window.removeEventListener('skyControlPressed', controlPressed)\n  })\n\n  return <TVLicenseMessage onSelectLicenseStatus={goBack} />\n}\n\nexport default TVLicenseSettings\n"],"sourceRoot":""}